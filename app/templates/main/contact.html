{% extends "base.html" %}

{% block title %}Contact - {{ config.SITE_NAME }}{% endblock %}

{% block meta_description %}Contact David Black - Full-stack founder and app entrepreneur. Partner with the creator of CRM Baby, App Launcher, and Mix Convert Keyword for business collaborations, co-founder opportunities, or commercial app development from Thailand.{% endblock %}

{% block meta_keywords %}contact david black, app founder collaboration, co-founder opportunities, commercial app development, saas partnerships, entrepreneur networking, business partnerships thailand{% endblock %}

{% block og_title %}Contact {{ config.SITE_NAME }} - Let's Build Something Amazing{% endblock %}
{% block og_type %}website{% endblock %}

{% block canonical_url %}{{ url_for('main.contact', _external=True) }}{% endblock %}

{% block structured_data %}
{
  "@context": "https://schema.org",
  "@type": "ContactPage",
  "mainEntity": {
    "@type": "Person",
    "name": "{{ config.SITE_NAME }}",
    "jobTitle": "Full-Stack Developer & Digital Architect",
    "email": "{{ config.CONTACT_EMAIL }}",
    "url": "{{ url_for('main.index', _external=True) }}",
    "availableLanguage": ["English"],
    "contactOption": "TollFree",
    "areaServed": "Worldwide",
    "serviceType": [
      "Web Development",
      "Full-Stack Development", 
      "AI/ML Integration",
      "Technical Consulting",
      "Digital Architecture",
      "Python Development"
    ],
    "sameAs": [
      "{{ config.GITHUB_URL }}",
      "{{ config.TWITTER_URL }}"
    ]
  },
  "potentialAction": {
    "@type": "CommunicateAction",
    "target": {
      "@type": "EntryPoint",
      "urlTemplate": "{{ url_for('main.contact', _external=True) }}",
      "inLanguage": "en",
      "actionPlatform": [
        "http://schema.org/DesktopWebPlatform",
        "http://schema.org/MobileWebPlatform"
      ]
    }
  }
}
{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <!-- Page Header -->
    <section class="terminal-window mb-12">
        <div class="terminal-header">
            <div class="flex items-center space-x-4">
                <div class="terminal-controls">
                    <div class="terminal-control control-close"></div>
                    <div class="terminal-control control-minimize"></div>
                    <div class="terminal-control control-maximize"></div>
                </div>
                <span class="terminal-primary text-sm font-bold">
                    <i class="fas fa-envelope mr-2"></i>
                    contact_form.py
                </span>
            </div>
        </div>
        
        <div class="p-8 text-center">
            <h1 class="text-4xl font-bold terminal-primary neon-glow mb-4 typing">
                Establish Connection
            </h1>
            <p class="text-xl terminal-secondary mb-6">
                Ready to collaborate? Let's discuss your next project
            </p>
            <div class="terminal-muted">
                <i class="fas fa-terminal mr-2"></i>
                Initializing secure communication channel...
            </div>
        </div>
    </section>
    
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Contact Form -->
        <section class="terminal-window">
            <div class="terminal-header">
                <div class="flex items-center space-x-4">
                    <div class="terminal-controls">
                        <div class="terminal-control control-close"></div>
                        <div class="terminal-control control-minimize"></div>
                        <div class="terminal-control control-maximize"></div>
                    </div>
                    <span class="terminal-primary text-sm font-bold">
                        <i class="fas fa-paper-plane mr-2"></i>
                        message_composer.exe
                    </span>
                </div>
            </div>
            
            <div class="p-8">
                <h2 class="text-2xl font-bold terminal-primary mb-6">
                    <i class="fas fa-keyboard mr-2"></i>
                    Send Message
                </h2>
                
                <form method="POST" class="space-y-6">
                    {{ form.hidden_tag() }}
                    
                    <!-- Name Field -->
                    <div>
                        <label for="{{ form.name.id }}" class="block text-sm font-bold terminal-secondary mb-2">
                            <i class="fas fa-user mr-2"></i>
                            Name:
                        </label>
                        {{ form.name(class="w-full terminal-input") }}
                        {% if form.name.errors %}
                            <div class="mt-2 text-sm terminal-error">
                                {% for error in form.name.errors %}
                                    <div><i class="fas fa-exclamation-triangle mr-1"></i>{{ error }}</div>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    
                    <!-- Email Field -->
                    <div>
                        <label for="{{ form.email.id }}" class="block text-sm font-bold terminal-secondary mb-2">
                            <i class="fas fa-envelope mr-2"></i>
                            Email:
                        </label>
                        {{ form.email(class="w-full terminal-input") }}
                        {% if form.email.errors %}
                            <div class="mt-2 text-sm terminal-error">
                                {% for error in form.email.errors %}
                                    <div><i class="fas fa-exclamation-triangle mr-1"></i>{{ error }}</div>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    
                    <!-- Subject Field -->
                    <div>
                        <label for="{{ form.subject.id }}" class="block text-sm font-bold terminal-secondary mb-2">
                            <i class="fas fa-tag mr-2"></i>
                            Subject:
                        </label>
                        {{ form.subject(class="w-full terminal-input") }}
                        {% if form.subject.errors %}
                            <div class="mt-2 text-sm terminal-error">
                                {% for error in form.subject.errors %}
                                    <div><i class="fas fa-exclamation-triangle mr-1"></i>{{ error }}</div>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    
                    <!-- Message Field -->
                    <div>
                        <label for="{{ form.message.id }}" class="block text-sm font-bold terminal-secondary mb-2">
                            <i class="fas fa-comment mr-2"></i>
                            Message:
                        </label>
                        {{ form.message(class="w-full terminal-textarea") }}
                        {% if form.message.errors %}
                            <div class="mt-2 text-sm terminal-error">
                                {% for error in form.message.errors %}
                                    <div><i class="fas fa-exclamation-triangle mr-1"></i>{{ error }}</div>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    
                    <!-- reCAPTCHA Field -->
                    {% if form.recaptcha is defined %}
                    <div>
                        <label class="block text-sm font-bold terminal-secondary mb-2">
                            <i class="fas fa-shield-alt mr-2"></i>
                            Security Verification:
                        </label>
                        <div class="terminal-recaptcha">
                            {{ form.recaptcha() }}
                        </div>
                        {% if form.recaptcha.errors %}
                            <div class="mt-2 text-sm terminal-error">
                                {% for error in form.recaptcha.errors %}
                                    <div><i class="fas fa-exclamation-triangle mr-1"></i>{{ error }}</div>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    {% endif %}
                    
                    <!-- Submit Button -->
                    <div class="text-center">
                        <button type="submit" class="terminal-button w-full">
                            <i class="fas fa-paper-plane mr-2"></i>
                            Transmit Message
                        </button>
                    </div>
                </form>
            </div>
        </section>
        
        <!-- Contact Information -->
        <section class="space-y-8">
            <!-- Direct Contact -->
            <div class="terminal-window">
                <div class="terminal-header">
                    <div class="flex items-center space-x-4">
                        <div class="terminal-controls">
                            <div class="terminal-control control-close"></div>
                            <div class="terminal-control control-minimize"></div>
                            <div class="terminal-control control-maximize"></div>
                        </div>
                        <span class="terminal-primary text-sm font-bold">
                            <i class="fas fa-address-book mr-2"></i>
                            contact_info.json
                        </span>
                    </div>
                </div>
                
                <div class="p-8">
                    <h2 class="text-2xl font-bold terminal-primary mb-6">
                        <i class="fas fa-network-wired mr-2"></i>
                        Direct Channels
                    </h2>
                    
                    <div class="space-y-4">
                        <!-- Social Links -->
                        {% if config.GITHUB_URL %}
                        <a href="{{ config.GITHUB_URL }}" target="_blank" 
                           class="flex items-center p-4 border border-gray-700 rounded-lg hover:border-green-400 transition-all group">
                            <i class="fab fa-github text-2xl terminal-secondary group-hover:terminal-primary mr-4"></i>
                            <div>
                                <div class="font-bold terminal-text group-hover:terminal-primary">GitHub</div>
                                <div class="text-sm terminal-muted">Check out my repositories and contributions</div>
                            </div>
                        </a>
                        {% endif %}
                        
                        {% if config.TWITTER_URL %}
                        <a href="{{ config.TWITTER_URL }}" target="_blank" 
                           class="flex items-center p-4 border border-gray-700 rounded-lg hover:border-green-400 transition-all group">
                            <i class="fab fa-twitter text-2xl terminal-secondary group-hover:terminal-primary mr-4"></i>
                            <div>
                                <div class="font-bold terminal-text group-hover:terminal-primary">Twitter</div>
                                <div class="text-sm terminal-muted">Follow for tech insights and updates</div>
                            </div>
                        </a>
                        {% endif %}
                        
                        {% if config.LINKEDIN_URL %}
                        <a href="{{ config.LINKEDIN_URL }}" target="_blank" 
                           class="flex items-center p-4 border border-gray-700 rounded-lg hover:border-green-400 transition-all group">
                            <i class="fab fa-linkedin text-2xl terminal-secondary group-hover:terminal-primary mr-4"></i>
                            <div>
                                <div class="font-bold terminal-text group-hover:terminal-primary">LinkedIn</div>
                                <div class="text-sm terminal-muted">Professional network and career updates</div>
                            </div>
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Response Time & Availability -->
            <div class="terminal-window">
                <div class="terminal-header">
                    <div class="flex items-center space-x-4">
                        <div class="terminal-controls">
                            <div class="terminal-control control-close"></div>
                            <div class="terminal-control control-minimize"></div>
                            <div class="terminal-control control-maximize"></div>
                        </div>
                        <span class="terminal-primary text-sm font-bold">
                            <i class="fas fa-clock mr-2"></i>
                            availability.cfg
                        </span>
                    </div>
                </div>
                
                <div class="p-8">
                    <h2 class="text-2xl font-bold terminal-primary mb-6">
                        <i class="fas fa-calendar-check mr-2"></i>
                        Availability Status
                    </h2>
                    
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-4 bg-gray-900/50 rounded-lg">
                            <div class="flex items-center">
                                <span class="w-3 h-3 bg-green-400 rounded-full animate-pulse mr-3"></span>
                                <span class="terminal-primary font-bold">Status</span>
                            </div>
                            <span class="terminal-secondary">Available for Projects</span>
                        </div>
                        
                        <div class="flex items-center justify-between p-4 bg-gray-900/50 rounded-lg">
                            <div class="flex items-center">
                                <i class="fas fa-reply terminal-secondary mr-3"></i>
                                <span class="terminal-text">Response Time</span>
                            </div>
                            <span class="terminal-primary">24-48 hours</span>
                        </div>
                        
                        <div class="flex items-center justify-between p-4 bg-gray-900/50 rounded-lg">
                            <div class="flex items-center">
                                <i class="fas fa-globe terminal-secondary mr-3"></i>
                                <span class="terminal-text">Time Zone</span>
                            </div>
                            <span class="terminal-primary">UTC (Flexible)</span>
                        </div>
                        
                        <div class="flex items-center justify-between p-4 bg-gray-900/50 rounded-lg">
                            <div class="flex items-center">
                                <i class="fas fa-handshake terminal-secondary mr-3"></i>
                                <span class="terminal-text">Collaboration</span>
                            </div>
                            <span class="terminal-primary">Remote & On-site</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Project Inquiry Guide -->
            <div class="terminal-window">
                <div class="terminal-header">
                    <div class="flex items-center space-x-4">
                        <div class="terminal-controls">
                            <div class="terminal-control control-close"></div>
                            <div class="terminal-control control-minimize"></div>
                            <div class="terminal-control control-maximize"></div>
                        </div>
                        <span class="terminal-primary text-sm font-bold">
                            <i class="fas fa-info-circle mr-2"></i>
                            inquiry_guide.md
                        </span>
                    </div>
                </div>
                
                <div class="p-8">
                    <h2 class="text-2xl font-bold terminal-primary mb-6">
                        <i class="fas fa-question-circle mr-2"></i>
                        Project Inquiries
                    </h2>
                    
                    <div class="space-y-4 text-sm">
                        <p class="terminal-text leading-relaxed">
                            When reaching out about a project, including these details helps me provide 
                            a more accurate and helpful response:
                        </p>
                        
                        <ul class="space-y-2">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle terminal-primary mr-2 mt-1"></i>
                                <span class="terminal-text">Project scope and objectives</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle terminal-primary mr-2 mt-1"></i>
                                <span class="terminal-text">Technology preferences or requirements</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle terminal-primary mr-2 mt-1"></i>
                                <span class="terminal-text">Timeline and budget considerations</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle terminal-primary mr-2 mt-1"></i>
                                <span class="terminal-text">Team size and collaboration style</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle terminal-primary mr-2 mt-1"></i>
                                <span class="terminal-text">Any specific challenges or concerns</span>
                            </li>
                        </ul>
                        
                        <div class="mt-6 p-4 border-l-4 border-blue-400 bg-blue-400/10">
                            <p class="terminal-secondary text-sm">
                                <i class="fas fa-lightbulb mr-2"></i>
                                <strong>Tip:</strong> Even if you're just exploring an idea, don't hesitate 
                                to reach out. I enjoy discussing potential solutions and helping refine concepts.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Form validation and enhancement
    const form = document.querySelector('form');
    const inputs = form.querySelectorAll('input, textarea');
    
    // Add focus effects
    inputs.forEach(input => {
        input.addEventListener('focus', function() {
            this.parentElement.style.borderLeft = '4px solid var(--terminal-primary)';
        });
        
        input.addEventListener('blur', function() {
            this.parentElement.style.borderLeft = 'none';
        });
    });
    
    // Character counter for message field
    const messageField = document.querySelector('textarea[name="message"]');
    if (messageField) {
        const counter = document.createElement('div');
        counter.className = 'text-xs terminal-muted mt-2 text-right';
        messageField.parentElement.appendChild(counter);
        
        function updateCounter() {
            const current = messageField.value.length;
            const max = 2000; // From form validation
            counter.textContent = `${current}/${max} characters`;
            
            if (current > max * 0.9) {
                counter.className = 'text-xs terminal-warning mt-2 text-right';
            } else {
                counter.className = 'text-xs terminal-muted mt-2 text-right';
            }
        }
        
        messageField.addEventListener('input', updateCounter);
        updateCounter();
    }
    
    // Form submission with loading state
    form.addEventListener('submit', function() {
        const submitBtn = form.querySelector('button[type="submit"]');
        const originalText = submitBtn.innerHTML;
        
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Transmitting...';
        submitBtn.disabled = true;
        
        // Reset after 3 seconds if form hasn't redirected
        setTimeout(() => {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        }, 3000);
    });
    
    // Animate contact cards on scroll
    const contactCards = document.querySelectorAll('.terminal-window');
    
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.style.transform = 'translateY(0)';
                    entry.target.style.opacity = '1';
                }, index * 100);
            }
        });
    }, observerOptions);
    
    contactCards.forEach(card => {
        card.style.transform = 'translateY(20px)';
        card.style.opacity = '0';
        card.style.transition = 'all 0.6s ease';
        observer.observe(card);
    });
});
</script>
{% endblock %}